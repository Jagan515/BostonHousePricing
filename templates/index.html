<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhubaneswar House Price Predictor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
       
    </style>
</head>
<body>
    <div class="container py-5">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1 class="text-white mb-3">
                    <i class="fas fa-home me-3"></i>
                    Bhubaneswar House Price Predictor
                </h1>
                <p class="text-white lead">Get accurate house price estimates based on property features and location</p>
            </div>
        </div>

        <!-- Main Content -->
        <div class="row">
            <!-- Input Form -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-edit me-2"></i>Property Details</h4>
                    </div>
                    <div class="card-body">
                        <form id="predictionForm">
                            <!-- Location Features -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary">
                                        <i class="fas fa-map-marker-alt me-2"></i>Location Features
                                    </h5>
                                    
                                    <!-- Locality Rank -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>Locality Quality</strong>
                                            <i class="fas fa-info-circle info-icon" 
                                               data-bs-toggle="tooltip" 
                                               title="Select the quality tier of your locality"></i>
                                        </label>
                                        <select class="form-select" id="LOCALITY_RANK" name="LOCALITY_RANK">
                                            {% for option in categorical.LOCALITY_RANK %}
                                            <option value="{{ option.value }}">{{ option.label }}</option>
                                            {% endfor %}
                                        </select>
                                        <small class="text-muted" id="LOCALITY_RANK_desc">
                                            {{ categorical.LOCALITY_RANK[2].description }}
                                        </small>
                                    </div>

                                    <!-- River Proximity -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>River Proximity</strong>
                                            <i class="fas fa-info-circle info-icon" 
                                               data-bs-toggle="tooltip" 
                                               title="Is the property near Kuakhai River?"></i>
                                        </label>
                                        <select class="form-select" id="RIVER_PROXIMITY" name="RIVER_PROXIMITY">
                                            {% for option in categorical.RIVER_PROXIMITY %}
                                            <option value="{{ option.value }}">{{ option.label }}</option>
                                            {% endfor %}
                                        </select>
                                        <small class="text-muted" id="RIVER_PROXIMITY_desc">
                                            {{ categorical.RIVER_PROXIMITY[0].description }}
                                        </small>
                                    </div>

                                    <!-- Crime Rate -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>Crime Rate in Area</strong>
                                            <i class="fas fa-info-circle info-icon" 
                                               data-bs-toggle="tooltip" 
                                               title="Lower crime rates generally increase property values"></i>
                                        </label>
                                        <div class="slider-container">
                                            <input type="range" class="form-range" id="CRIME_RATE" name="CRIME_RATE"
                                                   min="{{ features.CRIME_RATE.min }}" 
                                                   max="{{ features.CRIME_RATE.max }}" 
                                                   step="{{ features.CRIME_RATE.step }}" 
                                                   value="{{ features.CRIME_RATE.default }}">
                                            <div class="d-flex justify-content-between">
                                                <small>Low Crime</small>
                                                <span class="slider-value" id="CRIME_RATE_value">{{ features.CRIME_RATE.default }}</span>
                                                <small>High Crime</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Property Features -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary">
                                        <i class="fas fa-building me-2"></i>Property Features
                                    </h5>
                                    
                                    <!-- Average Rooms -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>Average Rooms</strong>
                                        </label>
                                        <div class="slider-container">
                                            <input type="range" class="form-range" id="AVG_ROOMS" name="AVG_ROOMS"
                                                   min="{{ features.AVG_ROOMS.min }}" 
                                                   max="{{ features.AVG_ROOMS.max }}" 
                                                   step="{{ features.AVG_ROOMS.step }}" 
                                                   value="{{ features.AVG_ROOMS.default }}">
                                            <div class="d-flex justify-content-between">
                                                <small>3 Rooms</small>
                                                <span class="slider-value" id="AVG_ROOMS_value">{{ features.AVG_ROOMS.default }}</span>
                                                <small>9 Rooms</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- House Age -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>House Age (Years)</strong>
                                        </label>
                                        <div class="slider-container">
                                            <input type="range" class="form-range" id="HOUSE_AGE" name="HOUSE_AGE"
                                                   min="{{ features.HOUSE_AGE.min }}" 
                                                   max="{{ features.HOUSE_AGE.max }}" 
                                                   step="{{ features.HOUSE_AGE.step }}" 
                                                   value="{{ features.HOUSE_AGE.default }}">
                                            <div class="d-flex justify-content-between">
                                                <small>New</small>
                                                <span class="slider-value" id="HOUSE_AGE_value">{{ features.HOUSE_AGE.default }}</span>
                                                <small>Old</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Area Features -->
                            <div class="row">
                                <div class="col-12">
                                    <h5 class="text-primary">
                                        <i class="fas fa-chart-bar me-2"></i>Area Characteristics
                                    </h5>
                                    
                                    <!-- Green Area -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>Green Area Percentage</strong>
                                        </label>
                                        <div class="slider-container">
                                            <input type="range" class="form-range" id="GREEN_AREA" name="GREEN_AREA"
                                                   min="{{ features.GREEN_AREA.min }}" 
                                                   max="{{ features.GREEN_AREA.max }}" 
                                                   step="{{ features.GREEN_AREA.step }}" 
                                                   value="{{ features.GREEN_AREA.default }}">
                                            <div class="d-flex justify-content-between">
                                                <small>0%</small>
                                                <span class="slider-value" id="GREEN_AREA_value">{{ features.GREEN_AREA.default }}</span>
                                                <small>100%</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Industrial Area -->
                                    <div class="feature-card">
                                        <label class="form-label">
                                            <strong>Industrial Area Percentage</strong>
                                        </label>
                                        <div class="slider-container">
                                            <input type="range" class="form-range" id="INDUSTRIAL_AREA" name="INDUSTRIAL_AREA"
                                                   min="{{ features.INDUSTRIAL_AREA.min }}" 
                                                   max="{{ features.INDUSTRIAL_AREA.max }}" 
                                                   step="{{ features.INDUSTRIAL_AREA.step }}" 
                                                   value="{{ features.INDUSTRIAL_AREA.default }}">
                                            <div class="d-flex justify-content-between">
                                                <small>Residential</small>
                                                <span class="slider-value" id="INDUSTRIAL_AREA_value">{{ features.INDUSTRIAL_AREA.default }}</span>
                                                <small>Industrial</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- More sliders for other features... -->
                                    <!-- You can add the remaining features similarly -->

                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="row mt-4">
                                <div class="col-12">
                                    <button type="button" class="btn btn-primary btn-lg w-100" onclick="predictPrice()">
                                        <i class="fas fa-calculator me-2"></i>Predict House Price
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Results and Info -->
            <div class="col-lg-4">
                <!-- Prediction Result -->
                <div class="card mb-4">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-chart-line me-2"></i>Prediction Result</h4>
                    </div>
                    <div class="card-body">
                        <div id="resultContainer">
                            <div class="result-box" id="predictionResult">
                                <i class="fas fa-home fa-3x mb-3"></i>
                                <div>Enter property details and click predict</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Famous Localities -->
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h4 class="mb-0"><i class="fas fa-landmark me-2"></i>Famous Localities in Bhubaneswar</h4>
                    </div>
                    <div class="card-body">
                        {% for locality in localities %}
                        <div class="mb-2">
                            <strong class="text-primary">{{ locality.name }}</strong>
                            <br>
                            <small class="text-muted">{{ locality.description }}</small>
                        </div>
                        {% if not loop.last %}<hr>{% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
   <script src="{{ url_for('static', filename='script.js') }}"></script>
    
</body>
</html>